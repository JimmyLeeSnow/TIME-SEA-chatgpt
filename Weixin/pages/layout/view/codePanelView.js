(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/layout/view/codePanelView"],{"25c2":function(e,t,n){"use strict";(function(e){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("2eee")),i=a(n("448a")),r=a(n("c973")),u=n("1998"),c=n("e4f2"),s=a(n("8c18")),d={components:{LoadingComponent:function(){n.e("wxcomponents/components/loadingComponent").then(function(){return resolve(n("7e70"))}.bind(null,n)).catch(n.oe)},LoadingDataComponent:s.default,EmptyComponent:function(){n.e("wxcomponents/components/emptyComponent").then(function(){return resolve(n("e53b"))}.bind(null,n)).catch(n.oe)}},data:function(){return{pageNum:1,prompt:"",data:[],isFlushed:!1,isShow:!1,form:{buildFrequency:void 0,buildQuantity:void 0}}},onLoad:function(){var e=this.$refs.loadingRef;e.openShow(),this.getExchangeCode(),setTimeout((function(){e.closeShow()}),500)},methods:{conversionTime:c.conversionTime,handlePutCode:function(){var t=(0,r.default)(o.default.mark((function t(){var n,a,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.form,a=n.buildFrequency,i=n.buildQuantity,i&&i.length>0){t.next=4;break}return e.showToast({title:"生成数量不正确",icon:"none",duration:2e3}),t.abrupt("return");case 4:if(a&&a.length>0){t.next=7;break}return e.showToast({title:"所含Ai币不正确",icon:"none",duration:2e3}),t.abrupt("return");case 7:return t.prev=7,e.showLoading({title:"正在重载 ing~",mask:!0}),t.next=11,(0,u.buildExchangeCode)(this.form);case 11:return t.sent,this.pageNum=1,this.prompt="",this.data=[],t.next=17,this.getExchangeCode();case 17:e.showToast({title:"生成成功",icon:"none",duration:2e3}),e.hideLoading(),this.isShow=!1,t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](7),e.hideLoading(),e.showToast({title:t.t0,icon:"none",duration:2e3});case 26:case"end":return t.stop()}}),t,this,[[7,22]])})));return function(){return t.apply(this,arguments)}}(),copyContext:function(t){e.setClipboardData({data:t,success:function(){e.showToast({title:"复制成功",icon:"success"})}})},handleDeleteById:function(){var t=(0,r.default)(o.default.mark((function t(n){var a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this,e.showModal({title:"提示",content:"确定删除这个兑换码？",success:function(){var t=(0,r.default)(o.default.mark((function t(i){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i.confirm){t.next=20;break}return t.prev=1,e.showLoading({title:"正在删除 ing~",mask:!0}),t.next=5,(0,u.deleteExchangeCodeById)(n);case 5:return t.sent,e.hideLoading(),e.showToast({title:"删除成功",icon:"none",duration:2e3}),a.pageNum=1,a.prompt="",a.data=[],t.next=13,a.getExchangeCode();case 13:t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log("删除兑换码失败"),e.hideLoading(),e.showToast({title:t.t0,icon:"none",duration:2e3});case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),handleSearch:function(e){this.prompt=e.detail.value,this.data=[],this.pageNum=1,this.getExchangeCode()},getExchangeCode:function(){var t=(0,r.default)(o.default.mark((function t(){var n,a,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isFlushed=!0,t.next=4,(0,u.getExchangeCode)(this.pageNum,this.prompt);case 4:n=t.sent,a=n.records,a.length>0&&(this.pageNum=this.pageNum+1,(r=this.data).push.apply(r,(0,i.default)(a))),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("获取兑换码数据失败"),e.showToast({icon:"none",duration:6e3,title:t.t0});case 13:return t.prev=13,this.isFlushed=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[0,9,13,16]])})));return function(){return t.apply(this,arguments)}}()}};t.default=d}).call(this,n("543d")["default"])},"2f9f":function(e,t,n){},"445f":function(e,t,n){"use strict";var a=n("55bd"),o=n.n(a);o.a},"509b":function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("48aa");a(n("66fd"));var o=a(n("cec6"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"55bd":function(e,t,n){},5753:function(e,t,n){"use strict";var a=n("2f9f"),o=n.n(a);o.a},"7b06":function(e,t,n){"use strict";n.r(t);var a=n("828a"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"828a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{}}}},"85b4":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},o=[]},"8c18":function(e,t,n){"use strict";n.r(t);var a=n("85b4"),o=n("7b06");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("5753");var r=n("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},cec6:function(e,t,n){"use strict";n.r(t);var a=n("ee2b"),o=n("f034");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("445f");var r=n("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},ee2b:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.data.length),a=n>0?e.__map(e.data,(function(t,n){var a=e.__get_orig(t),o=e.conversionTime(t.createdTime);return{$orig:a,m0:o}})):null;e._isMounted||(e.e0=function(t){e.isShow=!0},e.e1=function(e){this.isShow=!1}),e.$mp.data=Object.assign({},{$root:{g0:n,l0:a}})},o=[]},f034:function(e,t,n){"use strict";n.r(t);var a=n("25c2"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a}},[["509b","common/runtime","common/vendor"]]]);