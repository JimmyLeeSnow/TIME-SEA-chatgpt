(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/drawing/drawingResultView"],{"1d1d":function(e,t,n){},"3b68":function(e,t,n){"use strict";(function(e,a){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("2eee")),s=i(n("c973")),r=n("a6cf"),c=i(n("0ad6")),u=n("e4f2"),l=n("60b2"),d={computed:{env:function(){return c.default}},components:{LoadingComponent:function(){n.e("wxcomponents/components/loadingComponent").then(function(){return resolve(n("7e70"))}.bind(null,n)).catch(n.oe)},CompareImage:function(){n.e("wxcomponents/jason-compareimage/CompareImage").then(function(){return resolve(n("cde0"))}.bind(null,n)).catch(n.oe)}},data:function(){return{originalImage:"/static/images/individual/twilight.jpeg",generateImage:"/static/images/individual/twilight.jpeg",avatar:"",userName:"",prompt:[],negativePrompt:[],createdTime:void 0,isShow:!1,copyPrompt:""}},onLoad:function(e){this.init(e.drawingId)},methods:{conversionImage:l.conversionImage,conversionTime:u.conversionTime,copyPromptData:function(){e.setClipboardData({data:this.copyPrompt,success:function(){e.showToast({title:"复制成功",icon:"success"})}})},init:function(){var t=(0,s.default)(o.default.mark((function t(n){var a,i,s;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$refs.loadingRef,t.prev=1,i=c.default.imageBaseUrl,a.openShow(),t.next=6,(0,r.getDrawingResult)(n);case 6:s=t.sent,s?(this.copyPrompt=JSON.stringify(s.prompt),this.prompt=s.prompt.split(/[,，]/),this.userName=s.userName,this.avatar=s.avatar,this.createdTime=s.createdTime,"drawingImage"in s?(this.originalImage=i+s.drawingImage.originalImage,this.generateImage=i+s.drawingImage.generateImage,this.isShow=!1):(this.originalImage=i+s.drawingText.originalImage,this.generateImage=i+s.drawingText.generateImage,this.isShow=!0)):(e.showToast({title:"图片貌似不见了~",icon:"none",duration:4e3}),setTimeout((function(){e.navigateBack()}),2e3)),setTimeout((function(){a.closeShow()}),1e3),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.showToast({title:t.t0,icon:"none",duration:4e3}),setTimeout((function(){e.navigateBack()}),2e3);case 15:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),save:function(t){a.showLoading({title:"加载中..."}),a.downloadFile({url:t,success:function(t){a.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){a.hideLoading(),e.showToast({title:"保存成功",icon:"none",duration:4e3})},fail:function(e){"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg&&"saveImageToPhotosAlbum:fail authorize no response"!==e.errMsg||a.showModal({title:"提示",content:"需要您授权保存相册",modalType:!1,success:function(e){a.openSetting({success:function(e){e.authSetting["scope.writePhotosAlbum"]?a.showModal({title:"提示",content:"获取权限成功",modalType:!1}):a.showModal({title:"提示",content:"获取权限失败，将无法保存到相册哦~",modalType:!1})},fail:function(e){console.log("保存图片失败",e)}})}})},complete:function(e){a.hideLoading()}})}})}}};t.default=d}).call(this,n("543d")["default"],n("bc2e")["default"])},"5ebb":function(e,t,n){"use strict";n.r(t);var a=n("6e66"),i=n("9bf4");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("ed28");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=r.exports},"6e66":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=(this._self._c,this.avatar?this.conversionImage(this.avatar):null),n=this.conversionTime(this.createdTime);this.$mp.data=Object.assign({},{$root:{m0:t,m1:n}})},i=[]},9291:function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("48aa");a(n("66fd"));var i=a(n("5ebb"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"9bf4":function(e,t,n){"use strict";n.r(t);var a=n("3b68"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},ed28:function(e,t,n){"use strict";var a=n("1d1d"),i=n.n(a);i.a}},[["9291","common/runtime","common/vendor"]]]);